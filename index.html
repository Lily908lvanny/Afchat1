from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.chrome.options import Options
import time
from itertools import product
import string

# URL du site à brute forcer
URL = "http://127.0.0.1:5500/index.html"  # ou ton GitHub Pages

# Setup du navigateur (sans interface)
options = Options()
options.add_argument("--headless")  # pour ne pas ouvrir une vraie fenêtre
driver = webdriver.Chrome(options=options)

def generate_passwords(length):
    chars = string.ascii_uppercase  # A-Z uniquement
    return (''.join(p) for p in product(chars, repeat=length))

found = False

for pwd in generate_passwords(3):  # Teste tous les mots de passe de 3 lettres
    driver.get(URL)
    time.sleep(0.5)

    input_box = driver.find_element(By.ID, "password")
    input_box.send_keys(pwd)

    submit = driver.find_element(By.TAG_NAME, "button")
    submit.click()

    time.sleep(0.2)

    result = driver.find_element(By.ID, "result").text
    print(f"Essai: {pwd} → {result}")

    if "correct" in result.lower():
        print(f"✅ Mot de passe trouvé : {pwd}")
        found = True
        break

if not found:
    print("❌ Aucun mot de passe trouvé.")

driver.quit()